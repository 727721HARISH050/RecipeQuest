
<%- include("header.html") %>   
   <section id="main-content">
    
    
      <div class="box">
        <div  id="popup" class="dontshow">
          <button id="cancelbutton" type="submit" onclick=" cancelIngre()">X</button>
         <h2 class="item_name"></h2>
         <hr>
         <h2> Required Ingredients</h2>
         <hr>
         <h4 class="m1"></h4>
         <h4 class="m2"></h4>
         <h4 class="m3"></h4>
         <h4 class="m4"></h4>
         <h4 class="m5"></h4>
         <h4 class="m6"></h4>
         <h4 class="m7"></h4>
         <h2 class="Ins">Instruction</h2>
         <hr>
         <p class="ins_para"></p>
     </div>
     </div>
      
   
      
      <% if(locals.post){ %>
      <div class="container fullscreen ">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
          <% for(let i=0;i<post.length;i++){ %>
          <div class="col cards">
            <div class="card shadow-sm">
              <img class="bd-placeholder-img card-img-top" width="50%" height="50%" src="<%= post[i].strMealThumb %>" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"></img>
  
              <div class="card-body">
                <!-- <input type="number" name="id" value="<%= i %>" hidden> -->
                  <h3 class="card-text"><%= post[i].strMeal %></h3> 
                <p class="card-text">This is a Famous  <%= post[i].strArea%> - <%= post[i].strCategory %> </p>
                <div class="d-flex justify-content-around ">
                  <div class="btn-group d-flex justify-content-around ">
               
                     
                      <button type="submit" class="btn  btn-outline-primary btn-lg"  name="id" value= '<%= JSON.stringify(post[i])%> 'onclick="ChangeInstruction(this.value)">View</button>
                
                 
                  </div>
                  
                </div>
              </div>
            </div>
          </div>
          
          <% } %>
        </div>
      </div>
    </div>
      
        
      <% }else{ %>
       <div id="waiting"> <p><%= recipeSearch %></p></div>
      
        <% } %>
   </section>

<script>
  
  function ChangeInstruction(post)
  {
    
    const ingre = JSON.parse(post);
    
    var elements = document.getElementById("popup");
    elements.classList.add("show");
    const item_name = document.querySelector('.show .item_name');
    item_name.textContent = ingre.strMeal;
    const m1 = document.querySelector('.show .m1');
    m1.textContent = "1) "+ingre.strMeasure1 + " of "+ ingre.strIngredient1;
    const m2 = document.querySelector('.show .m2');
    m2.textContent = "2) "+ingre.strMeasure2 + " of "+ ingre.strIngredient2;
    const m3 = document.querySelector('.show .m3');
    m3.textContent = "3) "+ingre.strMeasure3 + " of "+ ingre.strIngredient3;
    const m4 = document.querySelector('.show .m4');
    m4.textContent = "4) "+ingre.strMeasure4 + " of "+ ingre.strIngredient4;
    const m5 = document.querySelector('.show .m5');
    m5.textContent = "5) "+ingre.strMeasure5 + " of "+ ingre.strIngredient5;
    const m6 = document.querySelector('.show .m6');
    m6.textContent = "6) "+ingre.strMeasure6 + " of "+ ingre.strIngredient6;
    const m7 = document.querySelector('.show .m7');
    m7.textContent = "7) "+ingre.strMeasure7 + " of "+ ingre.strIngredient7;
    const ins_para = document.querySelector('.show .ins_para');
    ins_para.textContent = ingre.strInstructions;
  }
  function cancelIngre()
  {
    var elements = document.getElementById("popup");
    elements.classList.remove("show");
    elements.classList.add("dontshow");
  }
</script>
<%- include("footer.html") %>  